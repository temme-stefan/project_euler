console.log("Triangular, pentagonal, and hexagonal");
console.log(`Triangle, pentagonal, and hexagonal numbers are generated by the following formulae:

Triangle\t \tTn=n(n+1)/2\t \t1, 3, 6, 10, 15, ...
Pentagonal\t \tPn=n(3n−1)/2\t \t1, 5, 12, 22, 35, ...
Hexagonal\t \tHn=n(2n−1)\t \t1, 6, 15, 28, 45, ...
It can be verified that T285 = P165 = H143 = 40755.

Find the next triangle number that is also pentagonal and hexagonal.`);
console.log("https://projecteuler.net/problem=45");

let lastT = [1, 1];
let lastP = [1, 1];
let lastH = [1, 1];

const incT = () => {
    lastT[0]++;
    lastT[1] = lastT[0] * (lastT[0] + 1) / 2;
};

const incP = () => {
    lastP[0]++;
    lastP[1] = lastP[0] * (3 * lastP[0] - 1) / 2;
};

const incH = () => {
    lastH[0]++;
    lastH[1] = lastH[0] * (2 * lastH[0] - 1);
};

const find = (skipWhile = 1) => {

    while (true) {
        while (lastT[1] > lastP[1]) {
            incP();
        }
        if (lastT[1] == lastP[1]) {
            while (lastT[1] > lastH[1]) {
                incH();
            }
            if (lastT[1] == lastH[1]) {
                console.log(`T_${lastT[0]} = P_${lastP[0]} = H_${lastH[0]} = ${lastT[1]}`);
                if (lastT[1] > skipWhile) {
                    return lastT[1];
                }
            }
        }
        incT();
    }
}
const result = find(40755);
console.log("Solution: ", result);

